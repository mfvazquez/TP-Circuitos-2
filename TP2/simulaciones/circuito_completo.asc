Version 4
SHEET 1 2636 1224
WIRE -2256 -1264 -2288 -1264
WIRE -2160 -1264 -2256 -1264
WIRE -1200 -1264 -1232 -1264
WIRE -1104 -1264 -1200 -1264
WIRE -2288 -1216 -2288 -1264
WIRE -1232 -1216 -1232 -1264
WIRE -2160 -1120 -2160 -1264
WIRE -1104 -1120 -1104 -1264
WIRE -368 -1120 -368 -1136
WIRE -368 -1120 -448 -1120
WIRE -448 -1104 -448 -1120
WIRE -368 -1088 -368 -1120
WIRE -2288 -1072 -2288 -1136
WIRE -2224 -1072 -2288 -1072
WIRE -1232 -1072 -1232 -1136
WIRE -1168 -1072 -1232 -1072
WIRE -2032 -1056 -2032 -1088
WIRE -1680 -1056 -1680 -1088
WIRE -976 -1056 -976 -1088
WIRE -608 -1056 -608 -1088
WIRE 912 -976 784 -976
WIRE 1008 -976 992 -976
WIRE -2160 -960 -2160 -1024
WIRE -2064 -960 -2160 -960
WIRE -2032 -960 -2032 -992
WIRE -2032 -960 -2064 -960
WIRE -1984 -960 -2032 -960
WIRE -1696 -960 -1728 -960
WIRE -1680 -960 -1680 -992
WIRE -1680 -960 -1696 -960
WIRE -1664 -960 -1680 -960
WIRE -1104 -960 -1104 -1024
WIRE -1008 -960 -1104 -960
WIRE -976 -960 -976 -992
WIRE -976 -960 -1008 -960
WIRE -912 -960 -976 -960
WIRE -624 -960 -656 -960
WIRE -608 -960 -608 -992
WIRE -608 -960 -624 -960
WIRE -576 -960 -608 -960
WIRE -2064 -928 -2064 -960
WIRE -1696 -928 -1696 -960
WIRE -1008 -928 -1008 -960
WIRE -624 -928 -624 -960
WIRE 688 -912 208 -912
WIRE 864 -912 864 -1008
WIRE -2160 -896 -2160 -960
WIRE -1104 -896 -1104 -960
WIRE 688 -896 688 -912
WIRE 784 -896 784 -976
WIRE 784 -896 768 -896
WIRE 832 -896 784 -896
WIRE 976 -880 896 -880
WIRE 1008 -880 1008 -976
WIRE 1008 -880 976 -880
WIRE 688 -864 384 -864
WIRE 800 -864 768 -864
WIRE 832 -864 800 -864
WIRE -2064 -832 -2064 -864
WIRE -1696 -832 -1696 -864
WIRE -1008 -832 -1008 -864
WIRE -624 -832 -624 -864
WIRE 208 -832 208 -912
WIRE 864 -832 864 -848
WIRE -784 -816 -784 -864
WIRE -1856 -800 -1856 -864
WIRE 800 -800 800 -864
WIRE -2288 -784 -2288 -1072
WIRE -2240 -784 -2288 -784
WIRE -2160 -784 -2160 -816
WIRE -2160 -784 -2176 -784
WIRE -1232 -784 -1232 -1072
WIRE -1184 -784 -1232 -784
WIRE -1104 -784 -1104 -816
WIRE -1104 -784 -1120 -784
WIRE -2288 -720 -2288 -784
WIRE -1232 -720 -1232 -784
WIRE -2160 -672 -2160 -784
WIRE -2160 -672 -2240 -672
WIRE -1104 -672 -1104 -784
WIRE -1104 -672 -1184 -672
WIRE 800 -672 800 -720
WIRE -2160 -656 -2160 -672
WIRE -1104 -656 -1104 -672
WIRE 208 -640 208 -752
WIRE 384 -640 384 -864
WIRE 384 -640 208 -640
WIRE -2288 -560 -2288 -624
WIRE -2160 -560 -2160 -576
WIRE -2160 -560 -2288 -560
WIRE -1232 -560 -1232 -624
WIRE -1104 -560 -1104 -576
WIRE -1104 -560 -1232 -560
WIRE -2288 -544 -2288 -560
WIRE -1232 -544 -1232 -560
WIRE 1680 176 1680 112
WIRE 2576 176 1680 176
WIRE 1216 192 1216 128
WIRE 1344 192 1328 192
WIRE 1472 192 1408 192
WIRE 1680 192 1680 176
WIRE 2576 224 2576 176
WIRE 1472 272 1472 192
WIRE 1584 272 1472 272
WIRE 1632 272 1584 272
WIRE 96 288 96 272
WIRE -16 304 -64 304
WIRE 64 304 -16 304
WIRE 1328 304 1328 192
WIRE 1328 304 1152 304
WIRE 1360 304 1328 304
WIRE 1472 304 1472 272
WIRE 1472 304 1440 304
WIRE 208 320 208 288
WIRE 208 320 128 320
WIRE 832 320 208 320
WIRE -32 336 -80 336
WIRE 64 336 -32 336
WIRE 1152 336 1152 304
WIRE 1152 336 1136 336
WIRE 1680 352 1680 288
WIRE 1680 352 1584 352
WIRE 976 368 928 368
WIRE 1200 368 1136 368
WIRE 1216 368 1216 256
WIRE 1216 368 1200 368
WIRE 1296 368 1216 368
WIRE 96 384 96 352
WIRE 1680 384 1680 352
WIRE 1808 384 1680 384
WIRE 2096 384 1888 384
WIRE 2384 384 2096 384
WIRE 2576 384 2576 288
WIRE 2576 384 2512 384
WIRE 832 400 832 320
WIRE 976 400 832 400
WIRE 1152 400 1136 400
WIRE -912 416 -912 368
WIRE 976 432 944 432
WIRE 1152 432 1152 400
WIRE 1200 432 1152 432
WIRE 1296 432 1200 432
WIRE 1504 432 1296 432
WIRE 1600 432 1504 432
WIRE 1680 432 1680 384
WIRE 1680 432 1600 432
WIRE 2576 432 2576 384
WIRE 2096 448 2096 384
WIRE 2384 448 2384 384
WIRE 976 464 752 464
WIRE 1200 464 1136 464
WIRE 976 496 928 496
WIRE 1168 496 1136 496
WIRE 1568 496 1504 496
WIRE 1600 496 1568 496
WIRE 1568 512 1568 496
WIRE -912 528 -912 496
WIRE 1328 528 1136 528
WIRE 1360 528 1328 528
WIRE 1472 528 1440 528
WIRE 1680 528 1680 432
WIRE 128 560 128 544
WIRE 0 576 -32 576
WIRE 96 576 0 576
WIRE 2096 576 2096 512
WIRE 2384 576 2384 528
WIRE 2384 576 2096 576
WIRE 2512 576 2512 384
WIRE 2512 576 2384 576
WIRE 2576 576 2576 496
WIRE 240 592 240 560
WIRE 240 592 160 592
WIRE 16 608 -48 608
WIRE 96 608 16 608
WIRE 1328 608 1328 528
WIRE 1376 608 1328 608
WIRE 1472 608 1472 528
WIRE 1472 608 1440 608
WIRE 1568 608 1472 608
WIRE 1632 608 1568 608
WIRE 240 640 240 592
WIRE 752 640 752 464
WIRE 752 640 240 640
WIRE 128 656 128 624
WIRE 1680 656 1680 624
FLAG -2288 -544 0
FLAG -1232 -544 0
FLAG -368 -1008 0
FLAG 864 -1008 Vcc
FLAG 864 -832 0
FLAG 800 -672 Vdd
FLAG 976 -880 seno
FLAG 96 272 Vcc
FLAG 208 208 Vdd
FLAG 96 384 0
FLAG -16 304 triangular
FLAG -32 336 seno
FLAG -368 -1136 40V
FLAG -1200 -1264 40V
FLAG -2256 -1264 40V
FLAG 1680 112 40V
FLAG 1680 656 0
FLAG 928 368 Vdd
FLAG 1200 464 Vcc
FLAG 928 496 0
FLAG 1168 496 0
FLAG 1216 128 Vcc
FLAG 128 544 Vcc
FLAG 240 480 Vdd
FLAG 128 656 0
FLAG 0 576 seno
FLAG 16 608 triangular
FLAG -1856 -800 0
FLAG -784 -816 0
FLAG -1664 -960 Vcc
FLAG -576 -960 Vdd
FLAG -1696 -832 0
FLAG -2064 -832 0
FLAG -912 528 0
FLAG -912 368 triangular
FLAG -2032 -1088 0
FLAG -1680 -1088 0
FLAG -624 -832 0
FLAG -608 -1088 0
FLAG -1008 -832 0
FLAG -976 -1088 0
FLAG -448 -1040 0
FLAG 2576 576 0
FLAG 944 432 0
FLAG 1568 688 0
FLAG 1568 512 0
SYMBOL res -2304 -1232 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL npn -2224 -1120 R0
SYMATTR InstName Q1
SYMATTR Value Qbd135
SYMBOL res -2176 -912 R0
SYMATTR InstName R2
SYMATTR Value 22k
SYMBOL res -2176 -672 R0
SYMATTR InstName R3
SYMATTR Value 2.7k
SYMBOL cap -2176 -800 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100p
SYMBOL TL431 -2288 -672 M0
SYMATTR InstName U1
SYMBOL res -1248 -1232 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL npn -1168 -1120 R0
SYMATTR InstName Q2
SYMATTR Value Qbd135
SYMBOL res -1120 -912 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res -1120 -672 R0
SYMATTR InstName R6
SYMATTR Value 2.7k
SYMBOL cap -1120 -800 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100p
SYMBOL TL431 -1232 -672 M0
SYMATTR InstName U2
SYMBOL voltage -368 -1104 R0
SYMATTR InstName V2
SYMATTR Value 40
SYMBOL voltage 208 -736 R180
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName V3
SYMATTR Value SINE(0 1 10k 0.01)
SYMBOL res 784 -816 R0
SYMATTR InstName R7
SYMATTR Value 24.9k
SYMBOL res 1008 -992 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 24.9k
SYMBOL res 784 -912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 24.9k
SYMBOL res 784 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 24.9k
SYMBOL Opamps\\opamp2 864 -944 R0
SYMATTR InstName U3
SYMATTR Value LF412
SYMBOL Opamps\\opamp2 96 256 R0
SYMATTR InstName U4
SYMATTR Value lmx19
SYMBOL res 192 192 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL ind 1904 368 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 36µ
SYMBOL res 2368 432 R0
SYMATTR InstName R12
SYMATTR Value 8
SYMBOL cap 2080 448 R0
SYMATTR InstName C3
SYMATTR Value 270n
SYMBOL nmos 1632 192 R0
SYMATTR InstName M1
SYMATTR Value irlz44n
SYMBOL nmos 1632 528 R0
SYMATTR InstName M2
SYMATTR Value irlz44n
SYMBOL IR2110g 1056 432 R0
SYMATTR InstName U7
SYMBOL cap 1184 368 R0
SYMATTR InstName C6
SYMATTR Value 100n
SYMBOL res 1456 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 10
SYMBOL res 1456 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 10
SYMBOL Opamps\\opamp2 128 528 R0
SYMATTR InstName U8
SYMATTR Value lmx19
SYMBOL res 224 464 R0
SYMATTR InstName R22
SYMATTR Value 1k
SYMBOL 7815 -1856 -960 R0
SYMATTR InstName U9
SYMBOL 7805 -784 -960 R0
SYMATTR InstName U10
SYMBOL voltage -912 400 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(3.5 6.5 0.01 1.665u 1.665u 0 3.33u)
SYMBOL diode 1200 192 R0
SYMATTR InstName D1
SYMATTR Value UF4007
SYMBOL cap -2016 -992 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL cap -1664 -992 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C11
SYMATTR Value 100n
SYMBOL polcap -1712 -928 R0
SYMATTR InstName C12
SYMATTR Value 100µ
SYMBOL polcap -2080 -928 R0
SYMATTR InstName C9
SYMATTR Value 100µ
SYMBOL cap -592 -992 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C7
SYMATTR Value 100n
SYMBOL polcap -640 -928 R0
SYMATTR InstName C8
SYMATTR Value 100µ
SYMBOL cap -960 -992 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C10
SYMATTR Value 100n
SYMBOL polcap -1024 -928 R0
SYMATTR InstName C13
SYMATTR Value 100µ
SYMBOL polcap -464 -1104 R0
SYMATTR InstName C15
SYMATTR Value 1m
SYMBOL diode 1408 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value UF4007
SYMBOL diode 1440 592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value UF4007
SYMBOL res 1568 256 R0
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL res 1552 592 R0
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL polcap 1280 368 R0
SYMATTR InstName C14
SYMATTR Value 4.7µ
SYMBOL polcap 2560 224 R0
SYMATTR InstName C5
SYMATTR Value 1m
SYMBOL polcap 2560 432 R0
SYMATTR InstName C16
SYMATTR Value 1m
SYMBOL cap 1488 432 R0
SYMATTR InstName C18
SYMATTR Value 100n
SYMBOL polcap 1584 432 R0
SYMATTR InstName C19
SYMATTR Value 4.7µ
TEXT -1760 -776 Left 2 !.tran 0 13m 12m uic
TEXT -2728 -1272 Left 2 !.include BD135.LIB
TEXT 352 -1040 Left 2 !.INCLUDE LF412.lib
TEXT -1632 112 Left 2 !.include TL082.lib
TEXT -1648 232 Left 2 !.include 1N4148.lib
TEXT -1616 32 Left 2 !.include lmx19.txt
TEXT -1552 984 Left 2 !.model irlz44n VDMOS(Rg=1.5 Vto=3 Rd=40m Rs=30m Rb=50m Kp=50 Cgdmax=4n Cgdmin=2n Cgs=1n Cjo=1.5n Is=68p mfg=International_Rectifier Vds=100 Ron=100m Qg=34n)
TEXT 1416 -768 Left 2 !.MODEL UF4007 D (\n+   N=3.97671\n+  IS=3.28772E-006\n+  RS=0.149734\n+  EG=1.11\n+ XTI=3\n+ CJO=2.92655E-011\n+  VJ=0.851862\n+   M=0.334552\n+  FC=0.5\n+  TT=1.84973E-007\n+  BV=1000\n+ IBV=0.2\n+  KF=0\n+  AF=1 )
